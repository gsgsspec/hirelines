{% load static %}

<div class="content-wrapper">
  <div class="container-xxl flex-grow-1 container-p-y">

    <div class="d-flex justify-content-between align-items-center">
      <h4 class="m-0" style="width: max-content;">
        {{ jd_details.title }}
      </h4>
      <div style="width: max-content;">
        <button type="button" class="btn btn-icon btn-outline-primary mx-2" data-bs-toggle="modal"
        data-bs-target="#jd_integration_modal">
        <i class='bx bxs-cog icons_custm_weight'></i>
        </button>
        <button type="button" class="btn btn-icon btn-outline-primary mx-2" onclick="createNewTestModalOpen('screening')"
          data-bs-toggle="modal" data-bs-target="#modalCenter">
          <i class='bx bx-badge-check icons_custm_weight'></i>
        </button>
        <button type="button" class="btn btn-icon btn-outline-primary mx-2" onclick="createNewTestModalOpen('coding')"
          data-bs-toggle="modal" data-bs-target="#modalCenter">
          <i class='bx bx-code-alt icons_custm_weight'></i>
        </button>
        <button type="button" class="btn btn-icon btn-outline-primary mx-2" onclick="createNewTestModalOpen('interview')"
          data-bs-toggle="modal" data-bs-target="#modalCenter">
          <i class='bx bx-select-multiple icons_custm_weight'></i>
        </button>
      </div>

    </div>

    <!-- Jd Testes show here -->
    <div class="row mt-3" id="testCards"></div>

    <!-- Librarys container -->
    <div class="row mt-3 bg-menu-theme custm_border_radius" id="librarysMainContainer" hidden>

    </div>

  </div>
</div>


<!-- Modals start -->
<div class="modal fade" id="modalCenter" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalCenterTitle"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body pt-2">
        <div class="row">
          <div class="col mb-3">
            <label for="testType" class="form-label">Test Name</label> <span hidden id="test_name_validator"
              class="validator_font_color mx-3">Please Enter Screening Test Name</span>
            <input type="text" id="testType" class="form-control" placeholder="Test Name" value="Screening - 1"
              data-test_type="hell" />
          </div>
        </div>
        <div class="row g-2">
          <div class="col mb-0">
            <label for="emailWithTitle" class="form-label">Promot</label>&nbsp;<small class="form-label">( percentage
              )</small><span hidden id="promot_validator" class="validator_font_color mx-3">Please Enter Promot
              level</span>
            <input type="number" id="promot_level" class="form-control" placeholder="" value="60" />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary" onclick="saveOrUpdateTest()" id="saveJdTest">Save</button>
      </div>
    </div>
  </div>
</div>
<!-- Modals end -->

<!-- JD integration script modal start -->
<div class="modal fade" id="jd_integration_modal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="jd_integration_modal_title">Careers-Hirelines Integration Script</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body pt-2">
        <li class="form-label">Script tag to be added under `&lt;head&gt;&lt;/head&gt;` tag</li>
        <textarea class="form-control" rows="4" id="scriptTextarea" style="overflow: hidden;" disabled>
          {{ hirelines_integration_script_enc }}
        </textarea>
        <br>
        <li class="form-label">Add this function at posting candidate job application (under related .js or script tags)
        </li>
        <textarea class="form-control" rows="4" id="functionTextarea" style="overflow: hidden;" disabled>
          {{ hirelines_integration_function_enc }}
        </textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary" id="script_copy_btn"><i
            class='bx bxs-copy icons_custm_weight'></i>&ensp;Copy</button>
      </div>
    </div>
  </div>
</div>
<!-- JD integration script modal end -->
<script>


  var jdlibraryid = "{{jd_details.jdlibraryid}}";
  var jdId = '{{jd_details.id}}';

</script>
<style>
  .icons_custm_weight {
    font-weight: 500;
  }

  .custm_blockquote-footer {
    font-size: 85%;
    margin-top: -1rem;
  }

  .validator_font_color {
    color: red;
  }

  .cust_cursor {
    cursor: pointer;
  }

  .custm_border_radius {
    border-radius: 10px;
  }

  .Librarys_container {
    width: 350px;
    height: 400px;
    background-color: var(--light-primary-color);
    border-radius: 10px;
  }

  .library_labeles_container {
    display: flex;
  }

  .Librarys_label_container {
    width: 293px;
  }

  .Librarys_questions_container {
    height: 350px;
  }

  .library_sub_container {
    display: flex;
  }

  .active_selected_library {
    color: var(--primary-color) !important;
    background-color: #fff !important;
    border-radius: 0.375rem;
    font-weight: 600;
  }

  .each_question_container {
    display: flex;
    justify-content: space-between;
  }

  .library_seprator {
    color: #000;
    font-weight: 600;
    border-bottom: 0.5px solid #fff;
  }

  .custm_margin_to_selected_library {
    margin-right: 0.5rem !important;
    margin-left: 0.5rem !important;
  }

  .library_title {
    font-weight: 600;
  }

  .hrElement {
    /* border-top: 1px solid #dbdbe1 !important; */
    height: 0.5px !important;
    border-color: #dbdbe1 !important;
  }

  .custm-edit-icon {
    padding: 10px;
    border-radius: 7px;
    color: gray;
    border: 0.8px solid lightgray;
  }

  .add-test-name-cust {
    color: #79829a;
    font-size: 12px;
    font-weight: 700;
  }

  .flash-border {
    border: 2px solid #adadae;
    /* Border color */
    box-shadow: 0 0 10px #adadae, 0 0 20px #adadae;
    /* Glow effect */
    animation: fadeGlow 0.5s ease;
    /* Animation for fading in */
  }

  @keyframes fadeGlow {
    0% {
      border-color: #adadae;
      box-shadow: 0 0 10px #adadae, 0 0 20px #adadae;
    }

    50% {
      border-color: transparent;
      /* Fade the border color */
      box-shadow: 0 0 5px #adadae, 0 0 10px #adadae;
      /* Reduce glow */
    }

    100% {
      border-color: #adadae;
      /* Bring back the border color */
      box-shadow: 0 0 10px #adadae, 0 0 20px #adadae;
      /* Full glow */
    }
  }
  .use_template_cust_btn{
    padding-bottom: 0.3rem;
    padding-top: 0.3rem;
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .questions_container_selected_title{
    padding-left: 1rem !important;      /* Equivalent to style.paddingLeft = '1rem' */
    margin-bottom: 0rem !important; 
  }
  .selectedLibraryTitltandUserTemplateContainer{
    display: flex;                  
      justify-content: space-between;
      align-items: center;         
      padding-bottom: 0.8rem;   
  }
  
  .question_container_header{
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-left: 1rem;
    padding-top: 1rem;
    padding-right: 1rem;
    padding-bottom: 0.5rem;
}
</style>
<script src="/static/config/config.js"></script>
<script src="{% static 'js/jd_setup.js' %}"></script>
<script src="{% static 'lib/portal/assets/js/extended-ui-perfect-scrollbar.js' %}"></script>