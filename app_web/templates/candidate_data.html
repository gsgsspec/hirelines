{% load static %}
<div class="container-center">
  <div class="col-9">
    <div class="card mb-4">
      <div class="card-header d-flex align-items-center justify-content-between">
        <h5 class="mb-0">Candidate Info</h5>
      </div>
      <div class="card-body">
        <div class="table-responsive text-nowrap">
          <table class="table table-bordered">
            <tbody>
              <tr>
                <td style="width: 25%;"> <strong> Candidate ID </strong></td>
                <td>{{ candidate_info.c_code }}</td>
              </tr>
              <tr>
                <td> <strong> Name </strong></td>
                <td>{{ candidate_info.name }}</td>
              </tr>
              <tr>
                <td> <strong> Email </strong></td>
                <td>{{ candidate_info.email }}</td>
              </tr>
              <tr>
                <td> <strong> Mobile </strong></td>
                <td>{{ candidate_info.mobile }}</td>
              </tr>
              <tr>
                <td> <strong> Job Description </strong></td>
                <td> {{ candidate_info.jd }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <br>
        <div>
          <h5>Workflow</h5><br>
          <div class="card-container">
            {% for registration in registrations_data %}
            <div class="card flow-card">
              <b><p>{{ registration.paper_title }}</p></b>
              <p>{{ registration.type_title }}</p>
              {% if registration.paper_type == "I"%}
                {%  if registration.call_status == "N"  %}
                <button class="btn btn-primary" onclick="window.location.href='/interview-schedule/{{ registration.candidateid }}'">Schedule Interview</button>
                {% endif %}
              {% endif %}
            </div>
            {% if not forloop.last %}
            <div class="line"></div>
            {% endif %}
            {% endfor %}
          </div>
          <div class="mt-3 d-flex justify-content-end">
            <button class="btn btn-primary"  onclick="getReportData('{{ candidate_info.c_code }}')">Download Candidate Report</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/candidate_data.js' %}"></script>
<style>
  .card-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 400px;
  }

  .line {
    width: 2px;
    height: 40px;
    background-color: var(--primary-color);
  }

  .flow-card {
    width: 350px;
    border: 1px solid #d9dee3;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    padding: 10px;
  }
</style>